# Team-Info
| (1) 과제명 | LLM 활용 MBTI별 맞춤형 선물 추천 서비스
|:---  |---  |
| (2) 팀 번호 / 팀 이름 | 19-우엉 |
| (3) 팀 구성원 | 정이진 (197382): 리더, AI <br> 정지은 (2176353): 팀원, 백엔드 <br> 손윤지 (2176186) : 팀원, 프론트엔드			 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 팀 멘토 | 이태영 / 수석 / 신한은행 |
| (6) 과제 분류 | 산학과제 |
| (6) 과제 키워드 | MBTI, 생성형 AI, 추천 알고리즘, LLM, NLP  |
| (7) 과제 내용 요약 | 본 과제는 선물 선택에 고민이 많은 사람과 MBTI별 맞춤형 선물 추천을 받고 싶은 MZ 세대를 위한 서비스다.<br><br> 1. 인맥 등록 : 사용자가 이름, 생일, 나와의 관계 등 인맥 정보를 간단히 입력하면 LLM을 통해 자동으로 MBTI와 관심사 키워드가 생성되며, 사용자는 이를 수정할 수 있다. 이는 선물 추천 대상에 대한 정보를 등록하는 과정이다.<br><br> 2. 선물 추천 : 인맥 등록 후 사용자가 선물 이벤트 등 기본 정보를 입력하면 1차 선물 리스트가 생성된다. 이후 LLM과 추천 시스템을 통해 최종 선물 리스트가 완성된다. 사용자는 3개의 선물을 추천 받게 되며 각 인맥에 대한 추천 기록은 히스토리 페이지에서 확인할 수 있다.<br><br> 3. 문구 생성 : 선물과 함께 보낼 문구를 고민하는 사람을 위해 chatGPT API를 활용한 문구 생성 기능을 제공한다. 사용자가 입력한 문장 길이와 대상과의 친밀도를 바탕으로 문구가 자동 생성된다. 생성된 문구는 수정하고 저장할 수 있으며 히스토리 페이지에서도 확인할 수 있다. |

<br>

# Project-Summary
| 항목 | 내용 |
|:---  |---  |
| (1) 문제 정의 | [문제 정의 및 배경] <br> 1. 적절한 선물 선택의 어려움:<br> 많은 시간을 들여 상대방이 진정으로 마음에 들어할 만한 선물을 고민하는 경우가 많다. 또, 사람들이 흔히 선물하는 것보다, 상대방의 취향을 깊이 고려해 특별한 선물을 선택하고 싶어한다.<br><br> 2. 선물과 함께 전달할 문구 작성의 어려움:<br> 선물과 함께 따뜻한 마음을 담은 문구를 전하고 싶어하고, 기념일에 맞는 적절하고 의미 있는 문구를 고민하는 데에 시간이 많이 소요된다.<br> 이러한 문제를 해결하고자, LLM을 활용한 MBTI별 선물 추천 서비스 케어플리(CarefLi)를 기획했다. <br><br> [타겟 고객] <br> 케어플리(CareFLi)는 선물 선택과 선물과 함께 전달할 문구 작성이 어려운 MZ세대를 대상으로 한다. MZ세대는 개인화된 서비스를 선호하고 디지털에 능숙하여, 대규모 언어 모델을 사용해 MBTI를 예측하고 맞춤형 선물을 추천하는 서비스에 적합하다. MBTI는 MZ세대 사이에서 개인의 특성 및 성격을 효과적으로 파악할 수 있는 도구로 널리 인정받고 있다. MZ 세대는 사용자의 MBTI를 예측하고 이를 바탕으로 선물을 추천받는 과정을 흥미롭고 재미있게 느낄 것으로 예상했고, 이에 따라 타겟층을 고려해 서비스를 기획했다. <br><br> [Pain Points] <br> 1. 개인정보 입력으로 인한 사용성 문제 <br> 서비스 이용 과정에서 사용자는 우선 일부 개인정보를 입력해야 한다. 그러나 이 입력 절차가 번거롭거나 복잡할 경우, 사용자 경험이 저해되고 서비스 이용에 대한 피로도가 증가할 수 있다. <br><br> 2. 선물 선택의 어려움 <br> 많은 사람들이 선물을 고르는 데 어려움을 겪는다. 다양한 선택지 중에서 상대방의 취향과 상황에 맞는 적절한 선물을 찾는 과정은 시간과 노력이 많이 소요되기 때문이다. <br><br> 3. 선물과 함께 보낼 문구 작성의 어려움 <br> 선물과 함께 전달할 문구를 작성하는 데 많은 시간이 소요된다. 적절한 표현을 찾지 못해 고민하는 경우가 많아, 선물을 주는 사람에게 추가적인 부담이 될 수 있다.|
| (2) 기존연구와의 비교 | 1. 카카오톡 선물하기: 특별한 이벤트에 축하 선물이 필요할 때 마음을 전하는 선물 플랫폼 <br> - 강점: 대한민국 국민 90% 이상이 사용하는 카카오톡을 기반으로 하기에 사용자가 많이 유입되어 있고, 다양한 브랜드의 선물이 플랫폼에 입점되어 있어 선물을 주고 받기에도 용이하다. 또한 위시리스트와 랭킹 시스템으로 사람들에게 인기 있는 선물을 AI를 통해 추천해준다. <br> - 약점: 선물의 종류가 매우 방대하고 추천 리스트가 자주 바뀐다는 점에서 사용자가 다시 한 번 사용자에게 선물하기 적절한지 고민하게 되고, 선물하는 사람의 입장에서 상대의 취향을 고려하기 쉽지 않아 고민하게 되는 시간이 소요된다. <br> - 차별점: 수많은 선물들 중에서 선물하고자 하는 대상에게 필요할 것 같은 선물을 자동으로 추천 받아 편리성을 도모할 수 있으며, 정적인 선물 보내기 플랫폼의 역할에서 더 나아가 재미 요소를 추가해 서비스의 차별성을 추구했다.<br><br>2. 유어위시: 기업을 위한 맞춤형 선물하기 서비스 <br> - 강점: 업무를 진행하는 것과 동시에 비즈니스 관계를 맺기 위해 선물을 주고 받아야 하는 경우, 소요되는 시간을 단축시키기 위해 간편하고 사용성이 좋은 서비스를 만들었다. 또한 받는 사람이 받을 선물을 선택할 수 있어 받는 사람의 만족도를 높일 수 있다. <br>  - 약점: 타겟층을 기업 및 비즈니스 관계를 맺는 고객들을 대상으로 하기에 일상 관계 속 개인 간의 선물을 고려하지 않고 있다. 주는 사람의 고민 소요 시간을 줄여주기는 하나, 받는 사람에게 해당 소요 시간을 전가함으로서 이를 해소하였기에 본질적으로 해결되었다고 보기에는 어려움이 있다. <br>    - 차별점: 타겟층을 기업이 아닌 개인으로 맞추었다는 점에서 차별성이 있고, 단순히 비즈니스적 관계를 다지기 위해 의례적으로 주고 받을 선물에 대해서만 추천해주는 것보다 상대를 위한 진정성 있는 선물을 추천하기 위함이라는 차별점이 존재한다.<br><br>3. Rytr: 생성형 AI 기반 맞춤형 콘텐츠 포스팅 작성 도구<br>    - 강점: 한국어 기반이 아님에도 작문하는 데 있어 자연스럽고, 작성하고 싶은 글의 목적을 설정하는 템플릿이 다양해서 상황에 맞춰 글 작성을 하는 데 용이하다.<br>    - 약점: 광고글, SNS 포스팅 같은 마케팅 위주의 글 작성하는 데에만 특화되어 있어 일상적인 용도의 경우 노래 가사, 시 작성만 가능하다. 즉 축하 메시지와 같은 대화 상황에서의 작문이 불가능하다.<br>    - 차별점: 이벤트별로 특화된 작문 상황을 제시하고, 한국어를 기반으로 학습시켜 자연스러운 ‘일상 대화’ 작문이 가능하도록 한다. |
| (3) 제안 내용 | 케어플리(CareFLi)는 LLM을 활용해 인물 정보를 자동으로 등록하고, 선물 추천 및 문구 생성 기능을 통해 사용자에게 최적화된 맞춤형 선물과 메시지를 제안하는 서비스입니다.<br><br> 1. 입력 자동화 / 자동 생성 기능: <br> 케어플리는 사용자가 인물을 등록할 때 이름, 나이, 관계 정도만 입력하도록 간소화하였다. 입력된 정보를 대형 언어 모델(LLM)에 제공하여 해당 인물의 MBTI를 예측하고, 관련 정보를 자동으로 입력한다. 또한, LLM을 활용하여 관심 카테고리 키워드를 추출하고 사용자에게 제안함으로써 추가적인 정보 입력의 부담을 줄이고 사용성을 높였다. <br><br> 2. 선물 추천 기능: <br> 컨텐츠 기반 알고리즘을 통해 1차 선물 리스트를 만들어내고, 이와 함께 사용자 요약 정보, MBTI 별 선호 선물 데이터를 통합하여 LLM에 제공하고 최종적으로 사용자 맞춤형 선물 추천 리스트를 생성한다. 이러한 과정은 사용자에게 최적화된 선물 선택을 지원하며, 이에 소요되는 시간과 노력을 크게 줄여준다. (더 자세한 내용은 2.5 주요 기능 리스트에서 기술됨) MBTI와 선물 선호도 간의 데이터는 초기에는 LLM을 통해 수집되며, 사용자의 '좋아요' 기능을 통해 데이터가 축적됨에 따라 MBTI별 선호 선물 데이터를 반영하여 추천 알고리즘에 적용한다. 이를 통해 추천의 정확성을 높이고자 했다. <br><br> 3. 문구 생성 기능: <br> 케어플리는 LLM을 활용하여 선물과 함께 보낼 문구를 자동으로 생성해 사용자에게 제공한다. 사용자는 문구의 길이, 존댓말 또는 반말 여부, 이모티콘 사용 여부 등의 옵션을 선택할 수 있으며, 생성된 문구는 필요에 따라 사용자가 직접 편집할 수 있도록 개발할 예정이다. 이를 통해 사용자는 손쉽게 원하는 메시지를 작성할 수 있고 문구 작성에 소요되는 시간을 절약할 수 있다. <br> <img width="497" alt="image-3" src="https://github.com/user-attachments/assets/c0a6c927-ec94-41c2-9592-d5fa1c8d7b77">|
| (4) 기대효과 및 의의 | 1. 사용성 및 편의성 향상:<br>케어플리는 사용자가 최소한의 정보를 입력하면 LLM을 통해 자동화된 기능으로 다른 정보를 채워준다. 이로써 사용자의 서비스 이용이 간편해지며 번거로움을 줄일 수 있다. 이는 사용자 경험을 개선하고 사용성 및 편의성 향상에 기여한다. <br><br>2. 선물 전달 과정의 간소화: <br> 선물 선택에 소요되는 시간과 노력을 현저히 줄여주어 사용자 만족도를 높일 것으로 기대된다. 더불어, 케어플리의 문구 생성 기능을 통해 사용자는 선물과 함께 보낼 메시지를 손쉽게 작성할 수 있으며, 이는 문구 작성 시간을 단축하고 부담을 줄이고, 원하는 메시지를 빠르게 완성할 수 있다. <br><br> 3. 데이터 기반의 지속적 서비스 개선: <br> 축적된 데이터를 기반으로 지속적으로 서비스의 정확성과 효율성을 개선함으로써, 추천 알고리즘의 정교함을 높이고 사용자 맞춤형 서비스를 강화할 수 있다. <br><br> 4. MZ 세대의 디지털 친화적 특성: <br> 마지막으로, 디지털 환경에 익숙하고 개인화된 서비스를 선호하는 MZ 세대의 특성을 적극 활용하여 높은 사용자 참여와 만족도를 이끌어냄으로써, 케어플리는 사용자 중심의 MBTI 기반 맞춤형 선물 추천 서비스를 제공할 것을 기대할 수 있다. |
| (5) 주요 기능 리스트 | 1. 인물 정보 자동 등록 기능: <br> 사용자가 이름, 나이, 관계라는 정보를 입력하면 system content로 제공된다. GPT-4o-mini는 제공된 내용을 바탕으로, 대한민국의 MBTI 통계를 참고하여 MBTI 유형을 예측할 수 있게 개발했다. 예를 들어 ISTJ라고 예측된 경우, 이 결과를 다시 프롬프트로 제공되어, ISTJ 유형의 특징을 반영한 맞춤형 키워드를 자동 생성된다. ISTJ 유형은 일반적으로 체계적이고 분석적인 성향을 가지므로 독서, 분석, 조직적인 활동 등이 관심사 키워드로 사용자에게 자동으로 제안될 수 있다. <br><br> 2. 선물 추천 기능: <br> 사용하는 데이터는 선물 리스트, 사전에 조사한 MBTI별 데이터,  카테고리별 MBTI 선호도 데이터, 사용자 정보 다. 전체 선물 추천 시스템은 두 단계로 이루어진다. <br><br>(1) 콘텐츠 기반 알고리즘: <br> 선물 리스트와 사용자 정보를 바탕으로 1차 필터링을 진행한다. 사용자 정보 (관심사 키워드, 선호하는 가격대) 를 이용해 컨텐츠 기반 알고리즘을 적용해 사용자에게 맞는 1차 선물 리스트를 생성한다.<br><br> (2) GPT 프롬프트 엔지니어링: <br>1차 선물리스트와 함께 사용자 요약 정보, MBTI 데이터 ( 기본 정보 및 축적된 선호도 데이터 )를 GPT-4o-mini model에 system content 및 프롬프트로 제공하여 최종적으로 추천할 선물 리스트를 생성한다. <br><br> 3. 문구 생성 기능: <br>문구의 길이, 존댓말 / 반말 여부, 이모티콘 사용 여부 등을 GPT-4o-mini model에 system content 및 prompt로 제공하고, 참고할 수 있는 몇 가지 예시도 제공했다. 다양한 옵션을 제공함으로써 사용자가 상황에 맞는 맞춤형 문구를 쉽게 생성할 수 있도록 하였고, 생성된 문구는 사용자가 필요에 따라 수정할 수 있도록 개발할 예정이다. |

<br>
 
# Project-Design & Implementation
| 항목 | 내용 |
|:---  |---  |
| (1) 요구사항 정의 | [IA] <br> ![스크린샷 2024-12-11 오후 12 29 55](https://github.com/user-attachments/assets/b78e8349-546f-4055-828b-b3677ec67b0f) <br> 이 그림은 전체 서비스의 구조를 시각적으로 보여주기 위해 작성된 정보 구조도다. 서비스에 접속한 후, 애플리케이션이 어떤 페이지와 기능들로 구성되어 있는지를 보여준다. 먼저, 사용자는 스플래시 화면을 통해 로그인 페이지로 이동하게 된다. 로그인 후에는 홈, 선물 추천, 문구 생성, 마이 페이지의 네 가지 주요 메뉴로 나뉘어진 구조를 볼 수 있다.<br><br> 1. 홈 페이지: <br>사용자가 인물을 등록하거나 수정할 수 있는 기능을 제공한다. 여기서는 인물의 기본 정보를 입력하거나 수정할 수 있으며, 등록된 인물의 세부 정보를 확인하고 수정하는 작업도 가능하다.<br> 2. 선물 추천 페이지: <br>인물 선택과 가격대 선택을 통해 맞춤형 선물을 추천받을 수 있는 공간이다. 사용자는 추가 선물 정보를 입력할 수 있고, 추천된 선물 리스트와 각 선물에 대한 세부 정보를 확인할 수 있다.<br> 3. 문구 생성 페이지: <br>특정 인물과 기념일을 선택하여, 말투와 길이를 설정한 맞춤형 문구를 생성하는 기능을 제공한다. 생성된 문구는 저장하거나 수정할 수 있다.<br> 4. 마이 페이지: <br>사용자가 자신의 정보를 수정하거나, 로그아웃, 계정 탈퇴 등의 기능을 수행할 수 있는 개인 설정 화면을 제공한다. <br><br> [플로우 차트] <br> <img width="713" alt="스크린샷 2024-10-01 오후 12 27 10" src="https://github.com/user-attachments/assets/c5853122-4f22-4709-9cca-9ce50feba0ba"> <br> 이 플로우차트는 애플리케이션의 전반적인 기능 흐름을 이해하기 쉽게 시각화한 것으로, 사용자가 특정 작업을 수행할 때 각 과정이 어떻게 연결되는지 명확히 보여준다. <br><br> 사용자는 스플래시 화면에서 애플리케이션을 시작한 후 로그인 여부를 확인한다. 로그인에 성공하면 홈 화면으로 이동하며, 카카오 로그인을 통해 재시도할 수 있다. 로그인 후, 사용자는 인물 등록 페이지에서 기본 정보를 입력하고, MBTI 등 추가 정보를 입력한 후 인물 DB에 저장한다. 인물 조회를 통해 정보를 수정할 수 있으며, 이를 기반으로 선물 추천과 문구 생성을 진행할 수 있다. 선물 추천에서는 인물 선택과 가격대 선택을 통해 맞춤형 선물을 추천받고, 문구 생성에서는 인물 선택, 이벤트 선택, 문구 길이 설정을 통해 문구를 생성하고 저장할 수 있다. 위와 같은 여러 기능은 IA에서 나타난 것처럼 여러 분기점을 통해 이루어진다. <br><br> [E-R 다이어그램] <br> <img width="970" alt="스크린샷 2024-10-23 오후 9 08 29" src="https://github.com/user-attachments/assets/df0513c3-2f4c-4e19-8bd7-92447601434f">   E-R 다이어그램은 회원, 인맥, 선물 추천, 문구 생성 기능을 구현하기 위해 위와 같은 구조로 설계되었다. <br> <br> - `User` 테이블은 사용자 정보를 저장하며, 인맥, 선물 추천 기능의 기반이 된다. <br> - `Connection` 테이블은 사용자의 인맥 정보를 관리하며, 인맥에 맞춘 맞춤형 선물 추천과 문구 생성을 위해 사용된다. <br> - `GiftRecommendationSet` 테이블은 특정 인맥을 위한 3가지 선물 추천 리스트를 하나의 세트로 저장하기 위해 사용된다. <br> - `RecommendedGift` 테이블은 추천된 선물 목록을 저장하고 관리하기 위해 사용된다. <br> - `Gift` 테이블은 선물 추천에 사용되는 선물의 기본적인 정보(가격, 카테고리, URL 등)를 저장한다. <br> - `Preference` 테이블은 MBTI별 선물 카테고리 선호도를 반영하며 맞춤형 추천 기능을 강화한다. <br> - `Message` 테이블과 `SavedMessage` 테이블은 선물과 함께 보낼 메시지를 저장하기 위한 목적으로 사용된다. <br> - `RefreshToken` 테이블은 사용자의 상태를 관리하기 위해 사용된다. <br><br> [기능별 API 명세서] <br> 기능별 API 명세서는 다음과 같이 구성했다. 기능 이름, 서버에서 이를 처리하는 방법인 Method, 프론트에서 접근할 각각의 URI patterns, 처리하는데 필요한 정보들, 그리고 해당 기능에 대한 상세 설명으로 구성되어 있다. <br><br> <img width="739" alt="스크린샷 2024-10-23 오후 9 30 18" src="https://github.com/user-attachments/assets/3e1b53d6-5954-4132-9936-a6e2e03e4142"> <br> - 회원 : 회원 조회, 정보 수정, 탈퇴 <br><br> <img width="743" alt="스크린샷 2024-10-23 오후 9 30 09" src="https://github.com/user-attachments/assets/69ddd612-6cc2-4cd8-b2e4-73e5c5aa85d3"> <br> - 로그인 : 카카오 로그인/회원가입, 액세스 토큰 재발급 <br><br> <img width="739" alt="스크린샷 2024-10-23 오후 9 29 40" src="https://github.com/user-attachments/assets/355f9cd4-2cc9-4a45-853b-2ee89695dd3c"> <br> - 인맥 : 인맥 생성, 인맥 목록 조회, 인맥 상세 조회, 인맥 수정, 인맥 삭제 <br><br> <img width="736" alt="스크린샷 2024-10-23 오후 9 30 00" src="https://github.com/user-attachments/assets/4fa33816-4792-4bbd-8f24-910696e534f1"> <br> - 검색 : 인맥 이름 검색 <br><br><img width="743" alt="스크린샷 2024-12-12 오후 3 37 31" src="https://github.com/user-attachments/assets/51af04a5-a6c2-492b-a4a7-d2a58c5c0ce9" /> <br>- 선물 : 가격대별 선물 조회, 선물 상세 조회, 선물 추천 리스트 저장, 선물 추천 리스트 조회, 선물 좋아요, 인맥별 좋아요한 선물 목록 조회, 카테고리별 MBTI 선호도 조회, 인맥별 좋아요한 선물 목록 조회 <br><br> <img width="745" alt="스크린샷 2024-10-23 오후 9 29 13" src="https://github.com/user-attachments/assets/54d6cd34-ccf4-4fe9-83e3-2a483d2e53ad"> <br> - 문구 : 문구 저장, 문구 목록 조회, 문구 수정, 문구 삭제|
| (2) 전체 시스템 구성 | <img width="1438" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202024-09-30%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%205 23 43" src="https://github.com/user-attachments/assets/bb33ba3b-e497-410e-bdb3-ec8ef8a52265">전체 SW 시스템 구조는 위와 같다. 1. 인맥 등록, 2. 선물추천 3. 문구생성을 위해  프런트에서는 정보를 입력받고, 정보를 저장한다. 해당 정보를 이용해 AI는 openAI의 gpt-4o-mini 모델을 활용해 response를 생성한다. 프런트에서는 이를 사용자에게 UI로 보여주고, 백엔드는 이를 저장하고 조회가 가능하도록 개발했다.<br><br>프론트엔드에서는 React를 사용하여 개발하고 vercel로 배포했다. (1) 인맥 등록에서는 자동 생성될 내용을 위해 사용자로부터 추가할 인맥의 이름, 생일, 관계를 입력 받는다. 이를 GPT 모델에게 전달하고, 이를 토대로 AI가 생성해준 MBTI가 맞는지 확인한다. 그 후엔 MBTI를 기반으로 AI 모델을 거쳐 관심사 키워드를 우선 추천하고, 그 후 사용자가 맞거나 틀린 항목들을 수정할 수 있게 하여 인물에 맞게 취향을 반영한다. (2)선물 추천의 경우 사용자는 보이는 화면에서 선물 대상, 이벤트, 가격대 등의 요소를 선택한다. 결과를 보기 전, 인물의 취향을 사용자의 기준에서 반영할 수 있도록 추가로 선택할 요소가 있는지를 검토한다. ‘선물 추천’ 버튼을 눌렀을 때 AI에서 처리된 선물 추천 id 리스트를 토대로 서버로부터 상세 정보를 받아와 사용자에게 보여준다. 선물마다 ‘좋아요’를 누를 수 있으며, 각 항목의 좋아요 데이터가 누적되면 이후 선물 추천 DB에 누적되어 이후 학습 데이터로 활용된다. (3)문구 생성도 선물 추천과 비슷한 흐름으로 사용자가 원하는 조건을 선택하고. 조건을 토대로 GPT 모델이 문구를 생성해주고, 어색한 부분이나 추가할 부분이 있으면 ‘편집하기’ 기능을 통해 수정할 수 있도록 개발했다. <br><br>AI는 모두 Open AI의 gpt-4o-mini 모델을 prompt 엔지니어링하였다. 사용자가 입력한 정보에 따라 gpt 에게 제공하는 내용이 달라지기에 프런트에서 api를 호출했다. (1) 인맥 등록에서는 프롬프트 엔지니어링을 통해 mbti 및 관심 키워드를 자동 생성한다. (2)선물 추천에서는 mbti 및 관심 키워드를 바탕으로 선물을 추천하도록 프롬프트 엔지니어링했다. (3)문구 생성에서는 선물과 함께 보낼, 기념일에 맞는 문구 생성하도록 프롬프트 엔지니어링했다.<br><br>마지막으로 백엔드에서는 사용자 입력과 AI 모델링을 활용한 정보를 주로 저장하고 조회하는 기능을 제공한다. 회원가입과 로그인은 카카오 로그인 API를 통해 구현했고 로그인 상태는 JWT 토큰을 기반으로 관리하고 있다. 기본적으로 회원 가입, 회원 정보 조회, 회원 정보 수정, 회원 탈퇴 기능을 제공하며 인맥 역시 등록, 수정, 조회, 삭제 기능을 지원한다. AI를 통해 생성된 MBTI별 맞춤형 선물 추천 리스트는 데이터베이스에 저장하고 조회할 수 있다. 또한, 좋아요를 누른 선물과 선물 추천 기록을 조회할 수 있도록 선물 히스토리 조회 기능도 추가했다. 추가로 문구와 관련된 기능으로는 사용자가 생성된 문구를 수정할 수 있도록 하였고, 수정한 문구를 저장하여 추후에 다시 조회할 수 있도록 했다. 이미지 저장은 AWS S3를 사용하여 회원, 인맥, 선물 관련 이미지를 관리하고 있으며, 서버는 AWS EC2에서 운영하고 있다. 데이터베이스는 개발 환경에서 MySQL을, 배포 환경에서는 RDS를 사용하고 있다. CI/CD 파이프라인은 Docker와 GitHub Actions를 사용해 자동화하여 배포 프로세스를 효율적으로 관리하고 있다. |
| (3) 주요엔진 및 기능 설계 | 케어플리에는 총 3가지의 주요 기능이 있다. 인물 자동 등록 기능, 선물 추천 기능, 문구 생성 기능이 해당된다. 각각의 기능을 구현하기 위해 프론트엔드, 백엔드, AI 파트에서 각각 어떤 모듈을 구현하였는지에 대해서는 다음과 같다.  <br> <h3> **1. 인물 자동 등록 기능** </h3> **1) 프론트엔드: 인물 자동 등록 관련 UI 설계** <br> 서비스에서는 사용자의 편리함을 최대화하기 위해 최소한의 입력을 받도록 하였다. 이를 토대로 사용자가 직접 입력하는 값으로 이름, 관계, 생일을 입력 받도록 하고 프로필 사진의 경우 희망하는 경우에 한해서만 등록하도록 한다. 이름과 관계는 text 형식으로, 생일은 date 형식으로 input type을 지정하였고 MBTI의 경우 gpt를 통해 자동으로 예측함과 동시에 관심사 태그를 함께 형성한다. 각각의 항목은 다음과 같은 코드로 구성되어 있다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 06 36" src="https://github.com/user-attachments/assets/f27e42b8-2118-4170-b315-82e1b4d0af9d"> <br><br> label을 통해 각 입력창이 무엇에 대한 것인지를 나타내고, 사용자가 무엇을 입력해야 할 지 모르는 경우를 대비해 placeholder을 통해 입력 값에 대한 힌트 또한 제공한다. 특히 입력을 필수로 받아야 하는 항목들의 경우 <input> 태그 내부에 ‘required’ 속성을 추가하여 입력을 필수로 받도록 설정하였다. <br>  ![스크린샷 2024-12-11 오후 1 11 18](https://github.com/user-attachments/assets/a83ad7de-14d0-40f3-b81c-1798965c70d1) <br><br> 입력값을 모두 빠짐 없이 받았다면, ‘GPT를 통해 MBTI 생성하기!’ 버튼을 통해 MBTI 값을 생성하도록 한다. 이때 동적 버튼을 활용하여 초기 생성 시엔 위와 같은 문구를, 이후 생성 시 기존에 생성된 값을 제외하고 다른 값을 요청하도록 하는 것이므로, 버튼의 텍스트를 업데이트하는 함수 setButtonText을 통해 ‘다시 생성하기!’로 수정되도록 하였다. <br> <img width="700" alt="스크린샷 2024-12-11 오후 1 13 53" src="https://github.com/user-attachments/assets/b551df25-5b36-44c4-821e-365af21bbe9e"> <br> MBTI의 일부만을 수정하고 싶을 경우에 일일이 타이핑으로 수정해야 하는 수고로움을 덜고자 기존에 input으로 받았던 각 카테고리의 MBTI를 버튼 형식으로 구현하였다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 08 04" src="https://github.com/user-attachments/assets/ee4a2503-1bf7-49c6-bf8e-d434c159a419"> <br> 또한 MBTI를 생성할 때, 동시에 관심사 태그도 생성이 되어 화면에 나타난다. 사용자는 본인이 생각하는 인물의 관심사를, eventsData 배열을 기반으로 동적으로 생성된 버튼들을 다중 선택할 수 있게 구현하였다. 모든 선택이 완료되면 ‘등록하기’ 버튼을 통해 인물 등록을 끝낼 수 있다. <br> <br> **2) 백엔드: 카카오로그인 및 회원 관리 DB 설계** <br> 2-1) 회원 관리 - 카카오 로그인/회원가입 구현 <br> 카카오 로그인을 통해 사용자 인증 및 회원가입을 처리한다. 카카오 API를 통해 access_token을 발급받고 이를 사용해 사용자 정보를 가져온다. 인물 조회, 추천된 선물 조회 등 사용자와 관련된 API를 호출할 때 인증을 위해 access_token이 사용된다. 로그인한 사용자 정보를 바탕으로 회원 테이블에 정보를 저장하며 새로운 사용자라면 신규 회원으로 등록한다. 발급된 access_token의 시간이 만료되면 refresh_token을 이용하여 새로운 access_token을 발급받는다. 회원 테이블에 다음과 같이 access_token이 함께 저장되고, refresh_token 테이블에 따로 refresh_token을 저장하여 관리한다. <br> <img width="1016" alt="스크린샷 2024-11-04 오후 11 20 35" src="https://github.com/user-attachments/assets/a32d3f6a-6fd8-4c5f-92c3-ea5cc808e73d"> <br> <img width="960" alt="스크린샷 2024-11-04 오후 11 21 02" src="https://github.com/user-attachments/assets/094d1532-2fed-46ba-94de-ff50f125422c"> <br><br> 카카오 로그인 및 회원가입을 구현하기 위한 주요 메서드는 다음과 같다. <br><br> (1) OAuthController의 `kakaoCallback` 메서드 <br> - 사용자가 카카오 로그인을 통해 얻은 인가 코드를 받아, 서비스 계층에서 로그인 처리를 수행하는 메서드이다. <br> - 인가 코드를 이용해 `oAuthLoginService.login(code)` 메서드를 호출하여 로그인 및 JWT 토큰 생성 과정을 진행한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 11 24" src="https://github.com/user-attachments/assets/5fdce0ae-b4e1-4fd2-8408-e2fbd5e37449"> <br><br> (2) OAuthLoginService의 `login` 메서드 <br> 인가 코드를 받아서 카카오로부터 액세스 토큰을 가져오고 그 토큰으로 사용자를 조회한 후 JWT 토큰을 생성한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 47 20" src="https://github.com/user-attachments/assets/f52f9c58-ac76-48ee-929b-ba479ad35dcf"> <br> <br> (3) KakaoApiClient의 `getUserInfo` 메서드 <br> - 받은 액세스 토큰을 사용하여 사용자 정보를 카카오 API에서 조회하는 메서드이다. <br> - 이 메서드는 `Authorization` 헤더에 액세스 토큰을 포함하여 사용자 정보를 요청하며, 사용자 프로필 정보를 반환한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 31 34" src="https://github.com/user-attachments/assets/2f2f8a7f-2865-43c6-9235-03c06aca488b"> <br><br> 2-2) DB 및 테이블 구성 - 인물 자동 등록 기능 <br> 사용자가 인물 정보를 간단히 입력하면 AI를 통해 MBTI와 관심사 태그를 자동으로 생성한다. 생성된 인물 데이터를 인맥 테이블에 저장하여 인물 정보를 조회하고 선물을 추천할 때 사용한다. 인맥 테이블은 connection_id, user_id(외래 키), connection_name, birthday, connection_image_url, interest_tag, mbti, created_at, updated_at, relationship 속성으로 구성되어 있다. user_id를 통해 어떤 회원의 인맥인지 정보와 관계를 함께 저장한다. 자동 등록된 인물의 이름, 생일, 관심사 태그, MBTI, 관계를 테이블에 저장하여 인물 조회, 수정, 삭제에 활용한다. <br> <img width="985" alt="스크린샷 2024-11-04 오후 10 46 22" src="https://github.com/user-attachments/assets/5c73e2be-11b0-4f8f-9eb8-5618af112fec"> <br><br> **3) AI: 인물 자동 등록 관련 프롬프팅** <br> 3-1) MBTI 추측 GPT 프롬프트 <br> 사용자 이름, 나이, 관계를 GPT 모델에 전달하여 MBTI를 추측하도록 prompt를 제공했다. 다시 생성할 경우, 중복을 방지하기 위해 어떤 답변을 생성했는지 프런트단에서 기록하고 이를 mbtiList로 GPT에게 보내준다. 프런트 단에서 갖고 있는 정보인 mbtiDistribution, 대한민국의 MBTI 통계 (출처 : MBTI 검사, 테스트모아 표본집단 104,484명)를 추측에 반영한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 33 00" src="https://github.com/user-attachments/assets/890827b0-0a27-4fa1-819d-18c73c7b6138"> <br> 또한, 등록된 인물들의 MBTI 통계가 프롬프트에 반영되도록 설계했다. 내 인맥의 MBTI 통계를 바탕으로 특정 MBTI 유형이 더 자주 추천되도록 myPeopleMbtiDistribution을 전달하여 프롬프트를 구성했다.  myPeopleMbtiDistribution에 대한 데이터는 백엔드에서 https://api.carefli.p-e.kr/connections api를 호출해 사용자의 인맥을 조회하고,  프런트에서 MBTI별 통계를 낸 후 를 호출하여 구성한다. 이를 통해 추천의 정확도를 높이고, 사용자가 선호할 가능성이 높은 유형을 더 많이 추측할 수 있도록 했다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 33 36" src="https://github.com/user-attachments/assets/f92e0297-092c-453e-a9b9-0c9eceb8d838"> <br><br> 3-2) 카테고리 자동생성 프롬프트 <br> 아래와 같이 subCategories 데이터를 정의하였다. <br> <img width="500" alt="스크린샷 2024-11-07 오후 9 34 24" src="https://github.com/user-attachments/assets/8c0ef031-285d-4339-bffa-850623e30e4a"> <br> MBTI 유형을 바탕으로 특정 카테고리 3가지를 추천하는 챗봇을 설정하기 위해 messages 배열과 gptInput 객체를 구성했다. 위와 같이 subCategories는 선택 가능한 카테고리의 사전 정의된 목록으로, 이 안에서만 답변할 수 있도록 제한했다. 답변은 프런트에서 다시 사용하기 위해 반드시 세 개의 단어로 공백으로 구분된 형식이어야 하며, 예시로 '뷰티 의류 잡화'와 같은 형태를 제시해 모델이 그 형식을 따라 답변하게 했다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 35 04" src="https://github.com/user-attachments/assets/01dffdce-17ee-4350-bd79-9422086e5169"> <br> <h3> **2. 선물 추천 기능** </h3> **1) 프론트엔드: 선물 추천 UI 설계** <br> 선물 추천의 경우 기본적으로 네비게이션바의 아이콘이나 상세 페이지를 통해 접근할 수 있다. 해당 페이지에 접속한 후엔 선물 추천을 위한 인물을 선택하고, 가격대를 설정하며, 기념일을 선택하는 등 어떤 상황인지 조건별로 묻는 기능을 구현하고자 하였다. 이를 위해 각각 페이지를 따로 생성하는 것보단 조건부 렌더링을 통해 특정 페이지 혹은 컴포넌트를 보여줄 수 있도록 하는 SPA(Single Page Application) 구현 방식을 채택하였다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 36 25" src="https://github.com/user-attachments/assets/fc68977e-39f5-46c3-9e2e-62c94e0743f9"> <br><br> 이 방식에서는 currentPage의 상태가 바뀔 때마다 페이지 전체를 새로고침하지 않더라도 새로운 페이지로 이동한 것처럼 보이게 한다. useState로 상태를 관리하며, 상태에 따라 각기 다른 콘텐츠를 렌더링함으로써 사용자가 자연스럽게 여러 페이지를 오갈 수 있도록 하였다. 이를 통해 빠른 화면의 전환과 사용자 경험 향상을 도모하였다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 37 12" src="https://github.com/user-attachments/assets/fb125d35-28df-4c20-99a1-3b1362f5fa0f"> <br> <br> 각 페이지에서는 입력 받는 항목에 대해 적절한 방식을 채택하였다.  가령 인물을 선택해야 할 경우 한 눈에 인물 목록을 조회할 수 있는 드롭다운의 형태를 가진 select 태그를 사용하였다. 사용자가 자신이 추가해둔 인물 목록을 서버로부터 받아오는 profiles 배열을 기반으로 조회한 후, 인물마다 각 옵션을 생성해 그 중 하나를 선택할 수 있게 한다. 기념일, 가격대, 세부 카테고리의 경우엔 앞선 인물 자동 등록에서 활용했던 동적 버튼을 비슷하게 활용한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 9 37 47" src="https://github.com/user-attachments/assets/1e456d22-6867-4f22-9105-3843bfffe047"> <br> 마지막으로 추천된 선물 리스트를 화면에 보여주는 UI를 구성할 땐 필요한 정보인 선물의 이름, 가격, 사진을 잘 보이게 구성하였고 URL 바로가기 버튼을 통해 클릭 시 곧바로 구매할 수 있는 링크로 연결될 수 있게 구성하였다. 선택된 선물 리스트를 받아오면 3개의 선물을 각각 맵핑하여 gift-container에 담았다. 컨테이너 내부에는 가장 중요한 정보인 상품명과 사진을 크게, 그 아래 가격을 작게 배치하였다. 또한 링크를 새 탭에서 열 수 있게 지정된 URL로 연결되는 하이퍼링크를 생성하는 앵커 태그를 활용했다. <br> <br> **2) 백엔드: 선물 추천 기능 관련 DB 설계** <br> 2-1) DB 및 테이블 구성 - 선물 테이블 <br> 선물 추천 기능의 기반 데이터로 모든 선물 정보를 저장하기 위해 선물 테이블을 구성했다. `gift_id`, `category`, `sub_category`, `gift_name`, `price`, `occasion_type`, `gift_url`, `gift_image_url` 필드를 포함하여 선물의 상위/하위 카테고리와 가격, 선물 URL, 선물 이미지 URL 등을 관리한다. `occasion_type`은 생일, 결혼, 집들이 등 특정 상황을 저장하여 추천 시 해당 상황에 맞는 선물을 필터링할 수 있도록 설계되었다. 특정 상황에만 선물하는 상품이 아닌 경우 NULL 값으로 비워두었다. <br> *(참고 링크: https://docs.google.com/spreadsheets/d/1JZ0SNlUBL86LgyW_gCfgNkX8HqyfNGWhAmClhwUb1Dw/edit?gid=2082523003#gid=2082523003)* <br><br> 선물 추천 시 높은 정확도와 성능을 위해 카카오톡 선물하기 사이트를 참고하여 약 90개의 선물 데이터를 직접 수집했다. 이를 CSV 파일로 저장하여 프로젝트의 데이터베이스 내 `gift` 테이블에 import했다. 추후 선물 데이터를 지속적으로 업데이트하여 선물의 다양성을 높일 예정이다. <br> <img width="982" alt="스크린샷 2024-11-04 오후 12 12 03" src="https://github.com/user-attachments/assets/40d8b52b-1c65-4b08-8249-5c4f02f30b4d"> <br> <img width="934" alt="스크린샷 2024-11-04 오후 12 12 34" src="https://github.com/user-attachments/assets/f309b1be-5b10-43fe-8325-78bbcdb35d0a"> <br> <img width="938" alt="스크린샷 2024-11-04 오후 12 12 51" src="https://github.com/user-attachments/assets/968a2357-4964-4eab-9b63-df737d4d7cd2"> <br> <img width="925" alt="스크린샷 2024-11-04 오후 12 13 04" src="https://github.com/user-attachments/assets/41473e0c-a71c-4ef3-9f70-90a1b8e882fc"> <br> <br> 2-2) DB 및 테이블 구성 - 선물 추천 기능 <br> 모든 선물 데이터가 저장되어 있는 선물 테이블을 참고하여 AI가 최적의 선물 3개를 추천한다.  이때, 추천된 선물을 저장하고 조회하기 위해 추가로 gift_recommendation_set, recommended_gift 테이블을 정의했다. <br><br> (1) recommended_gift 테이블 <br> 추천된 3개의 선물에 대한 정보는 recommended_gift 테이블에 저장된다. 테이블의 column은 `recommended_gift_id`, `gift_rank`, `gift_id`, `recommended_set_id(외래 키)`로 구성되어 있다. 어떤 선물이 추천되었는지 gift_id를 통해 정보를 가져오고 gift_rank로 순위를 저장하고 recommended_set_id를 외래 키로 사용하여 gift_recommendation_set 테이블과 연관관계를 설정했다. <br><br> (*recommended_gift 테이블 예시*) <br> <img width="500" alt="스크린샷 2024-11-07 오후 9 55 59" src="https://github.com/user-attachments/assets/659fdebd-2dad-4956-b7ef-7274f10de3ad"> <br><br> (2) gift_recommendation_set 테이블 <br> gift_recommendation_set은 3개의 선물 리스트를 하나의 세트로 저장하기 위해 사용되는 테이블이다. 또한, 특정 인맥을 위한 추천 세트를 관리하기 위한 용도이다. gift_recommendation_set 테이블은 `recommendation_set_id`, `created_at`, `updated_at`, `occasion_type`, `connection_id(외래 키)`, `user_id(외래 키)`로 구성되어 있다. 선물을 위한 특정 상황인 occasion_type, 누구를 위한 추천인지를 나타내기 위한 user_id와 connection_id, 언제 추천되었는지를 기록하기 위한 created_at, updated_at으로 구성되어 있다. <br> 예를 들어, user_id가 1인 사용자가 connection_id가 4인 인맥을 위한 생일 선물을 추천 받고, 그 결과로 gift_id=3, 4, 6인 선물이 추천된다고 하자. 이때 선물 추천과 관련된 테이블 구조는 다음과 같다. <br><br> (*gift_recommendation_set 테이블 예시*) <br> <img width="780" alt="스크린샷 2024-11-07 오후 9 56 43" src="https://github.com/user-attachments/assets/6e05026c-4082-459c-8984-f8dc9cc20622"> <br> <br> **3) AI: 선물 리스트 생성 관련 추천 알고리즘 및 프롬프팅** <br> 3-1) 1차 선물 리스트 생성 <br> DB에서 호출한 선물 리스트와 사용자의 관심 카테고리를 바탕으로 가중치를 적용하여 각 선물에 score를 매긴다. 이때 사용자가 특수 카테고리(‘주류, 차량, 반려동물, 유아동, 금액권’)를 선택하지 않은 경우 score에 음수 가중치를 부여하여 리스트에서 제외시켰다. 이를 통해 가중치가 적용된 1차 선물 리스트가 생성되며, 사용자의 선호도를 반영한 초기 추천 리스트를 만들어낸다. 해당 리스트는 DB에 저장하지 않고, GPT를 이용한 최종 선물 추천에서 활용된다. <br> <img width="600" alt="스크린샷 2024-11-07 오후 9 57 57" src="https://github.com/user-attachments/assets/46b74baf-f8e7-47b2-a6ec-3129308b3b34"> <br> GPT Promt Engineering에서 사용되는 프롬프트에는 messages라는 배열을 사용하여 GPT에게 역할을 지정하고 원하는 응답 형식을 정의했다. messages 배열은 GPT 모델이 대화를 이해하도록 설정된 일련의 메시지이다. 이 배열에는 role과 content로 구성된 객체들이 포함되어 있으며, 각 객체는 특정 역할 (system 또는 user)과 content가 있다. system에게 제공하는 content는 GPT 모델의 행동 규칙과 응답 형식을 설정하여 특정 방식으로 답변하도록 지시하는 용도로 사용되고, user content는 실제 사용자 입력을 나타내며, 모델이 사용자 입력에 대한 응답을 인물 자동등록 (mbti, 관심키워드 자동 생성), 선물 추천, 문구 생성에 활용했다. <br> gptInput 객체는 이 메시지들을 포함하여 모델에 전달될 설정을 담고 있다. model은 "gpt-4o-mini"로 설정하여 간단한 버전의 GPT-4 모델을 사용하고, temperature는 0.8로 설정해 답변에 약간의 변화를 줄 수 있도록 했다. messages 배열을 gptInput의 messages 속성으로 전달하여, 이 전체적인 대화 문맥을 GPT에 적용했다. <br> <br> 3-2) 선물 추천 프롬프트 구성 <br> 이전에 생성한 1차 선물 리스트와 DB에서 api를 호출해 기본 사용자 정보(선물 대상의 MBTI, 나이, 사용자와의 관계)를 가져오고, 프런트 코드에서 저장되어 있는 MBTI별 기본 데이터(1)와 DB에서 api를 호출해 카테고리별 MBTI 데이터(2)를 GPT 모델의 prompt(3)에 전달하여 최종적으로 추천하는 선물 id 3가지를 반환한다. <br><br> (1) MBTI별 기본 데이터 <br> <img width="650" alt="스크린샷 2024-11-07 오후 10 01 26" src="https://github.com/user-attachments/assets/7e76d4ce-cb2f-4b5b-aa72-96b0953d2e08"> <br><br> (2) 카테고리별 MBTI 데이터 <br> 초기 데이터는 ChatGPT o1-mini 모델에게 "OO 카테고리의 선물을 선호하는 MBTI 유형 상위 3가지를 추천해주세요"라는 프롬프트를 제공하여 얻은 결과이다. 추론 능력이 탁월한 ChatGPT o1-mini 모델을 사용했고, 답변이 1. ESFJ 2. INFJ 3. ENFP 일 때, 각각을 좋아요를 1, 1, 1 개씩 받은 것이라고 초기 데이터를 설정했다. <br> <img width="700" alt="image222" src="https://github.com/user-attachments/assets/91aa91ec-828b-4726-a309-77d27a0487c2"> <br> 사용자가 특정 선물에 좋아요를 표시하면, 해당 선물의 카테고리와 선물을 받는 상대방의 MBTI 유형에 따라 카운트가 누적된다. 이렇게 쌓인 데이터를 바탕으로 MBTI별 선호도를 지속적으로 업데이트하여, DB에 저장해, 이를 프롬프트에 반영한다. <br><br> (3) Gift Recomendation GPT Prompt <br> Gift Recommendation GPT Prompt는 우선 getMbtiGiftPreference() 함수가 호출되어 MBTI별 선호 데이터*를 가져온다. 그 다음, 사용자 정보(나이, 관계, 관심사, mbti)를 제공해, 모델이 해당 MBTI 유형에 적합한 선물을 고르도록 유도했다. recommendedGifts에서 점수를 참고하여 상위 3개의 선물 ID를 숫자만으로 반환하도록 요구했다. 구체적인 응답 형식을 요청하여, GPT 모델에게 추천할 선물의 ID를 "숫자 3개"로만 반환했다. 백엔드로 GET https://api.carefli.p-e.kr/gifts/details?giftIds={giftId},{giftId},{giftId} api를 호출하여, 선물 상세 정보를 가져오기 용이하도록 설계했다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 05 59" src="https://github.com/user-attachments/assets/8389a2b2-5109-4263-8cee-792d8616e189"> <br> <br> <h3> **3. 문구 생성 기능** </h3> **1) 프론트엔드: 문구 생성 UI 설계** <br> 문구 생성도 선물 추천과 유사한 방식으로 구현하였다. 문구 생성 페이지 역시 네비게이션바 아이콘이나 상세 페이지를 통해 접근하며, 인물, 기념일, 말투, 길이 등 조건별 질문을 통해 개인에 맞추어 문구를 생성한다. 선물 추천과 유사하게 각각의 입력 받을 항목에 대해 label로 값에 대한 설명을 달아주었다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 10 21" src="https://github.com/user-attachments/assets/8c7eee7e-c98d-4852-b2f1-748e2502ca3f"> <br><br> 이를 위해 SPA 방식의 조건부 렌더링으로 특정 페이지나 컴포넌트를 보여주도록 구현했고, 선물 추천과는 달리 여러 조건 선택을 각각의 페이지에 분할하기보다는 크게 2페이지로만 나누어 사용자의 피로도를 덜도록 구성하였다. 문구 생성의 경우 개인이 원하는 조건이 훨씬 세분화되어 있기 때문에 선택해야 하는 항목이 많았기 때문이다. 특정 항목을 선택하지 않으면 해당 항목은 랜덤으로 처리하도록 하였다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 11 03" src="https://github.com/user-attachments/assets/3dd63ae3-63a7-4c40-a955-2bb01b476d25"> <br> <br> 사용자가 모든 조건에 대한 입력을 마치면 조건에 맞는 문구가 생성된다. 편리성을 최우선으로 고려하였기에 사용자는 생성한 문구에 대해서 마음에 안 들면 편집을, 그대로 사용하고자 한다면 복사를, 이후에 추가로 활용할 여지가 있다면 저장을 선택할 수 있다. isEditing 상태에 따라 삼항 연산자로 두 가지의 UI를 조건부로 렌더링하도록 하였다. isEditing이 false일 때는 텍스트 표시 모드와 편집 버튼을, true일 때는 편집 모드 UI를 표시하도록 설계하였다. 또한 복사 기능은 react-copy-to-clipboard 라이브러리의 CopyToClipboard 컴포넌트를 사용하여 클립보드에 텍스트가 복사되도록 간단하게 구현하였다. <br><br> **2) 백엔드: 생성된 문구 저장 DB 설계** <br> 2-1) DB 및 테이블 구성 - 문구 생성 기능 <br> 생성된 문구를 저장하고 추후 문구를 조회하는 데 사용하기 위해 message 테이블을 다음과 같이 구상하였다. created_at, updated_at 속성을 통해 문구의 생성 시간 및 문구 마지막 수정 시간을 기록하여 수정한 내용이 어느 시점에 반영되었는지 확인할 수 있다. 또한 다른 column을 통해 문구에 적합한 상황, 문구, 존댓말 여부, 문구 대상(인물 id)을 함께 저장했다. <br> <img width="919" alt="스크린샷 2024-11-04 오후 10 50 41" src="https://github.com/user-attachments/assets/b70c7ba2-a175-41d8-b4e8-aad89cdf39ae"> <br><br> **3) AI: 문구 생성 관련 프롬프팅** <br> 3-1) 문구 생성 프롬프트 <br> 이벤트 유형, 문체, 문구 길이, 이모티콘 사용 여부를 포함해 사용자 맞춤형 문구를 생성하도록 프롬프트를 구성했다. event, tone, length, useEmojis, 는 프런트 UI를 통해 사용자가 직접 설정한 옵션이다. prompt가 참고할 수 있는 예시 문구를 아래와 같이 assistPrompt로 제공한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 13 15" src="https://github.com/user-attachments/assets/f7dbffbd-882a-4cb1-8dbe-541f2e7d79a0"> <br> <img width="700" alt="스크린샷 2024-11-07 오후 10 13 20" src="https://github.com/user-attachments/assets/9e57f590-3092-4758-ad57-2b4a1a8a936c"> <br> |
| (4) 주요 기능의 구현 | 앞선 내용을 토대로 각 파트에서 기능 구현을 위한 모듈 설계를 모두 마무리하였고, 각 모듈을 연결하여 하나의 기능으로 동작하기까지의 과정과 그 결과이다. 본 서비스는 OpenAI의 GPT-4o-mini 모델을 사용하여 사용자 입력 정보와 사전 수집된 데이터를 바탕으로 3가지 주요 기능, 인물 자동 등록 기능, 선물 추천 기능, 문구 생성 기능 에서 dynamic prompt engineering을 진행하였다. <br> <h3> **1. 인물 자동 등록 기능** </h3> 인물 자동 등록은 다음과 같은 단계로 설계되었다. 프론트엔드에서 설계한 UI를 토대로 사용자는 인맥의 사진, 이름, 관계, 생일을 입력한다. <br> <img width="500" alt="스크린샷 2024-11-07 오후 5 17 54" src="https://github.com/user-attachments/assets/e9d9355d-88b6-48ca-be7b-48b1215a1e67"> <br> 사용자가 입력한 사용자와의 관계와 인물의 나이를 기본 정보로 사용하여 GPT 모델 prompt에 예측에 필요한 기초 데이터를 제공한다. 대한민국의 MBTI 통계를 바탕으로, 프런트단에 저장되어 있는 MBTI 유형의 확률(mbtiDistribution)을 프롬프트에 반영하여, MBTI를 예측하는 모델이 보다 정확한 유형을 예측할 수 있도록 했다. 더불어 백엔드에서 https://api.carefli.p-e.kr/connections api를 호출해 사용자가 이미 등록한 인맥들의 MBTI 유형 통계도 받아와, 기존의 데이터와 연관된 정보를 고려한 예측을 가능하게 했다. <br> <img width="450" alt="스크린샷 2024-12-11 오후 1 27 55" src="https://github.com/user-attachments/assets/b43d3a84-46fa-42c2-acc9-8711e0bf8809"> <br> 마지막으로, MBTI 추측 재요청 시 기존에 생성된 결과가 반복되지 않도록 설계하여, 중복을 방지하고 항상 새로운 예측 결과를 생성할 수 있도록 구현했다. 다시 생성하기를 누르면, 16가지 유형이 다 나오기 전까지 ENFP는 다시 추천되지 않는다. <br> <img width="450" alt="[스크린샷 2024-12-11 오후 1 28 11" src="https://github.com/user-attachments/assets/753a2c4e-1e13-440a-a5bc-4c309261fb78"> <br> MBTI 입력이 완료되면 이를 기반으로 GPT를 활용해 3가지 관심 카테고리를 자동 추천하는 기능을 제공한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 5 19 02" src="https://github.com/user-attachments/assets/44f097f0-9914-4eb6-8d3a-c2e8e1b1ac74"> <br><br> 이렇듯 인물 자동 등록을 위해 프론트에서 설계한 UI를 바탕으로 GPT 모델은 입력 값을 받아와 처리한다. 등록하고자 하는 정보들이 모두 입력되었다면, 서버에 해당 값들을 서버로 보낼 차례다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 7 54 41" src="https://github.com/user-attachments/assets/aeb1f99e-4064-47b0-9dd9-ca55fda12812"> <br> 프론트에서는 axios 라이브러리를 사용해 배포된 서버 주소로 입력 받은 사용자 정보를 JSON 형식으로 변환해 requestData에 담아 서버로 전송한다. 이때 사용자들 간에 등록한 인물은 서로 조회되지 않고, 구분되어야 하므로 Authorization 헤더에 accessToken을 추가해 인증을 받을 수 있도록 하였다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 16 35" src="https://github.com/user-attachments/assets/f152b8ea-10b2-4b86-bd28-5ce7b52126c2"> <br> 이때 활용되는 것이 인물 등록 API(POST /connections)로, 사용자가 입력한 인물의 정보를 저장하는 기능을 담당한다. 프런트에서 axios로 보낸 사용자 정보를 `ConnectionRequestDto`로 받아 `Connection` 엔티티로 변환한 뒤, `connectionRepository.save()` 메서드를 통해 데이터베이스에 저장한다. 저장된 정보는 `ConnectionResponseDto`로 변환되어 클라이언트에 반환된다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 19 10" src="https://github.com/user-attachments/assets/8a20a3c3-6f88-4e7b-b139-35058accb611"> <br><br> API 호출 결과는 다음과 같다. <br> <img width="750" alt="스크린샷 2024-11-04 오후 11 35 52" src="https://github.com/user-attachments/assets/a43504d9-6ce0-40f6-ae30-417911d5afbe"> <br> 자동 등록된 정보는 최종적으로 DB의 connection(인맥) 테이블에 저장된 것을 확인할 수 있다. <br> <img width="984" alt="스크린샷 2024-11-04 오후 4 47 14" src="https://github.com/user-attachments/assets/8cdc4336-21a0-4d83-8d34-2ea59322fede"> <br><br> 앞선 과정을 통해 인맥 등록이 완료되면, 등록한 인맥을 조회할 수 있게 된다. <br> <img width="350" alt="스크린샷 2024-12-11 오후 1 50 28" src="https://github.com/user-attachments/assets/91870207-9a54-47e4-92ad-4c887e4cab16"> <br> 이 또한 인맥 전체 목록 조회 API(GET /connections)를 활용하여 진행된다. 로그인한 사용자의 인물 목록을 조회하여 `connectionRepository.findAllByUser(user)` 메서드를 통해 사용자의 인물 목록을 가져온다. 각 엔티티는 `ConnectionListDto`로 변환되어 클라이언트에 전달된다. 이를 통해 사용자는 등록된 인물 목록을 확인할 수 있다. <br> <img width="750" alt="스크린샷 2024-11-07 오후 8 23 44" src="https://github.com/user-attachments/assets/52b2f43e-46e7-4a1a-a03d-1f653782af23"> <br><br> API 호출 결과는 다음과 같다. <br> <img width="828" alt="스크린샷 2024-11-04 오후 11 34 38" src="https://github.com/user-attachments/assets/94539dd8-82ae-4b4f-8cbb-81a7fa5e37f8"> <br> <br> <h3> **2. 선물 추천 기능** </h3> 선물 추천 시스템은 다음과 같이 설계했다. 사용자는 아래 네비게이션 바의 “선물추천하기 페이지”에 들어가거나, 인물 상세 페이지에서 선물하기 버튼을 눌러 선물 추천을 받을 수 있다. 인물 상세 페이지로 들어가지 않았다면 인물을 선택해주면 (인물 상세 페이지에서 들어갔다면 이미 인물이 선택된 상태로 나타난다) 그 다음으로는 어떤 이벤트/기념일을 위한 선물인지 선택한다. <br> <img width="600" alt="스크린샷 2024-11-07 오후 8 44 08" src="https://github.com/user-attachments/assets/60cba253-7d86-4d4b-b40b-1f5da408625c"> <br> 다음으로, 가격대를 고르면, GET /gifts/list?minPrice={minPrice}&maxPrice={maxPrice} api를 통해 필터링된 선물 목록을 가져온다. <br> <img width="359" alt="image" src="https://github.com/user-attachments/assets/7bb33bc7-84b2-4ae3-a9ac-270d7ced5283"> <br> 가격대를 3만원대로 설정한 후 API를 호출한 결과는 아래와 같다.<br> 이후 선물을 주는 대상이 관심을 가질 만한 세부 카테고리를 추가적으로 정한다. 특수 카테고리(‘주류, 차량, 반려동물, 유아동, 금액권’)는 선택하지 않은 경우 해당 선물은 추천되지 않는다. <br> <img width="357" alt="image" src="https://github.com/user-attachments/assets/63c4eed8-b728-4281-9a3f-feb1d5e27d27"> <br><br> 선물 추천 버튼을 누르면, 사용자가 선택한 옵션에 따라 1차 선물리스트가 만들어진다. 1차 필터링된 선물 리스트는 관심 카테고리와 가격에 따라 생성되고, 나이, mbti와 관계 정보를 반영하고, MBTI 데이터를 반영해, 더 개인화된 추천을 다음과 같이 제공한다. 다음은 3만원대, 세부카테고리로 건강, 디저트, 화장품을 선택한 결과이다. 여러가지 선택지 중 선물 대상의 mbti가 가장 좋아할 만한 선물을 GPT에게 추천받는 것이다. <br> 마찬가지로 프론트에서 설계한 UI를 따라 위와 같이 필요 정보를 모두 입력 받고 GPT 모델에게 전달하게 되면, GPT는 추천 알고리즘을 통해 선물 리스트를 추출해 서버로부터 해당 선물들에 대한 정보를 요청한다. 이때 서버로부터 응답을 받는 선물 추천 API 중 선물 추천 리스트 저장 API(POST /gifts/recommended/save)가 활용된다. 해당 API는 선물 추천 리스트를 생성한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 47 56" src="https://github.com/user-attachments/assets/b4973bde-eaa1-448a-91c6-8ef30aa0ca55"> <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 49 03" src="https://github.com/user-attachments/assets/b81affd9-a15c-46f9-bab6-a64591a93c7c"> <br><br> AI를 통해 추천된 선물의 대상(인물 ID), 선물 상황, 추천된 선물 ID를 넣어 요청을 보내면 다음과 같은 응답을 보낸다. <br> <img width="700" alt="스크린샷 2024-11-04 오후 11 55 36" src="https://github.com/user-attachments/assets/c82606f7-9f9e-44c4-a2f9-564ea73ff219"> <br> <img width="700" alt="스크린샷 2024-11-04 오후 11 56 12" src="https://github.com/user-attachments/assets/861d95e8-bac4-4b49-ad40-446febedf5b7"> <br> <img width="700" alt="스크린샷 2024-11-04 오후 11 56 39" src="https://github.com/user-attachments/assets/6aeca2a5-adb1-4548-8998-8921a2574ea4"> <br> 위를 토대로 받아온 선물 리스트를 프론트엔드에서 각각의 json 파일 값을 조회하여 GET을 통해 받아오게 된다. 받은 후 이전에 개발한 UI에 각 시도마다 생성되는 선물 리스트를 보여주게 된다. <br> <img width="400" alt="image" src="https://github.com/user-attachments/assets/4d0b4ffb-175e-4871-ac2a-59005316bf24"> <br> URL 바로가기를 통해 카카오톡을 통해 선물할 수 있고, 우측에 좋아요를 남겨, 선호도를 남길 수 있다. 해당 선물 추천 결과는 POST https://api.carefli.p-e.kr/recommended/save api를 통해 DB에 저장되어, 인물 상세 페이지 History에서 확인 가능하다. <br> 추천된 선물 리스트와 관련된 테이블 구조는 다음과 같다. <br> <img width="750" alt="스크린샷 2024-11-07 오후 8 52 05" src="https://github.com/user-attachments/assets/2d2bf8bf-0d23-4f1e-b01f-f246eb254c23"> <br> <br> <h3> **3. 문구 생성 기능** </h3> 마지막으로 문구 생성 기능은 선물추천과 마찬가지로, 네비게이션 바의 문구 생성 기능 탭을 통해 접근하거나, 아니면 인물 상세페이지에서 해당 인물에게 문구 작성하기로 가능하다. 인물을 선택하고 (인물 상세 페이지에서 접근할 경우 불필요) 어떤 이벤트/기념일이 있는 건지 선택한다. <br> <img width="380" alt="image" src="https://github.com/user-attachments/assets/3d710110-172a-4008-ad0e-cae0759e3e8a"> <br> 그 다음 말투 선택, 문구 길이, 이모티콘 사용 여부 등의 정보를 입력받는다. 그 이후 문구 생성하기를 누르면, 사용자의 정보 (나와의 관계, 나이) 및 앞서 선택한 옵션들이 동적으로 gpt prompting되어 모델에 전달하게 된다. <br> <img width="380" alt="image" src="https://github.com/user-attachments/assets/f4a9bca8-8317-4264-81a0-b32505f7074f"> <br> GPT의 답변을 다음과 같이 사용자에게 보여준다. 문구 수정이 하고 싶다면, 편집하기를 통해 가능하고, 복사하기 버튼을 누르면 클립보드에 해당 내용이 복사되어 상대방에게 보내기 편리하게 했다. 저장하기 버튼을 누르면 POST https://api.carefli.p-e.kr/messages api를 통해 DB에  해당 문구가 저장되고, 인물 상세 페이지의 History에서 해당 문구를 다시 확인할 수 있다. <br> <img width="380" alt="image" src="https://github.com/user-attachments/assets/61078e13-f540-450e-a935-b299dc2f5543"> <br><br> 앞선 문구 생성 기능과 관련된 테이블은 다음과 같다. <br> <img width="940" alt="스크린샷 2024-11-05 오전 12 27 25" src="https://github.com/user-attachments/assets/2f50b60d-358d-4eac-92a0-5d23c2e7ae04"> <br> 문구 생성과 관련하여 이후 문구를 조회하기 위한 API로 문구 생성 및 수정이 있는데, 이는 다음과 같다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 57 06" src="https://github.com/user-attachments/assets/c7e298af-331b-45b2-9067-78ed191101e5"> <br> (1) 문구 생성 및 저장 API - POST /messages <br> 사용자가 입력한 이벤트와 인물 정보를 바탕으로 AI를 거쳐 맞춤형 문구를 생성한 후 저장하기 위한 API이다. 회원ID, 인물ID, 이벤트, tone, 문구 길이, 문구 내용을 받아 저장한다. <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 58 01" src="https://github.com/user-attachments/assets/fa1618e3-4e41-4256-862d-7cbb41c5faca"> <br> API 호출 결과는 다음과 같다. <br> <img width="700" alt="스크린샷 2024-11-05 오전 12 13 08" src="https://github.com/user-attachments/assets/5879dea3-7109-4cb2-a1de-9453c9521923"> <br><br> (2) 문구 수정 API - PATCH /messages/{messageId} <br> <img width="700" alt="스크린샷 2024-11-07 오후 8 59 08" src="https://github.com/user-attachments/assets/99abeead-9e5a-4ea8-8a46-d108325c6bd8"> <br> AI로 추천된 문구가 마음에 들지 않거나 수정이 필요한 경우 사용자는 직접 편집할 수 있다. 수정된 내용을 저장하기 위해 문구 수정 API를 다음과 같이 구현하였다. <br> API 호출 결과는 아래와 같다. 수정된 시각(updatedAt)과 수정된 문구 내용(content)이 반영된 모습을 확인할 수 있다. <br> <img width="688" alt="스크린샷 2024-11-05 오전 12 17 28" src="https://github.com/user-attachments/assets/ef0a578d-faea-4818-a750-386a7698288c"> |
| (5) 기타 | *기타 사항을 기술* |

<br>

# Evaluation
| 항목 | 내용 |
|:---  |---  |
| (1) 평가(Evaluation) | 1. 평가항목 선정<br><img width="313" alt="스크린샷 2024-12-12 오후 8 34 33" src="https://github.com/user-attachments/assets/8ec90200-e809-45cc-b634-19c3761b0821" /><br><br>1.1 평가항목 설명<br>소프트웨어 품질 평가 항목(ISO/IEC 25023 국제 표준 기준)을 참고해, 정성적인 지표인 기능 적합성과 정량적인 지표인 성능 효율성을 평가 항목으로 선정하였다. 구체적으로, 기능 적합성은 기능 완전성, 기능 적절성, 기능 정확성의 측면에서, 성능 효율성은 시간 반응성과 자원 효율성의 측면에서 우리 서비스를 평가했다.<br><br>1.2 평가항목 선정 사유<br>LLM을 활용한 MBTI별 맞춤형 선물 추천 서비스, 케어플리는 두 가지 목표를 가진다. 첫째, 사용자에게 만족스러운 선물 추천과 문구 생성 결과를 제공하는 것이며, 둘째, 이를 위한 좋은 사용성을 가진 서비스를 만드는 것이다. 이를 위해 사용자 관점에서 서비스가 제공하는 기능이 얼마나 효과적이며 기대에 부응하는지 평가하기 위해 ‘기능 적합성’이라는 항목과, 서비스의 품질을 객관적이고 수치적으로 평가하기 위해 정량적 지표로 ‘성능 효율성’이라는 항목을 선정하였다.<br><br><br>2. 기능 적합성: 정성적 평가항목<br>2.1 기능 적합성<br>기능 적합성이란 소프트웨어 품질 특성(ISO/IEC 25023 국제 표준 기준) 중 하나로, 사용자의 요구 사항에 따라 소프트웨어가 제공해야할 기능을 정확하게 수행하는 정도를 말한다. 최근 서비스 개발 환경에서는 사용자 경험(User Experience, UX)이 평가의 핵심 요소로 자리 잡고 있으며, 사용자 관점에서 서비스가 제공하는 기능이 얼마나 효과적이고 적합한지 확인하는 것이 중요하다. 특히, 서비스가 요구사항에 부합하며 사용자가 기대한 목적을 충족하는 지는 서비스 품질을 판단하는 데 있어 필수적인 요소이다.<br><br>2.2 기능 적합성의 평가 기준<br>기능 적합성은 다음 세 가지 기준인 기능 완전성, 기능 적절성, 그리고 기능 정확성으로 세분화하여 평가하였으며, 그 결과 모든 평가 기준을 충족하였다.<br><br>2.2.1 기능 완전성<br>기능 완전성이란 서비스가 명시된 요구사항에 따라 모든 필수 기능을 온전하게 제공하는지 평가하는 것을 말한다. 본 프로젝트에서는 이를 위해, “기능별 요구사항 명세서”를 정의했다.<br><br>2.2.1.1 기능 완전성의 평가 기준과 방식<br>기능별 요구사항 명세서의 모든 항목이 구현되었는지 체크리스트로 확인하고, 이를 달성한 비율로 완성도를 평가하였다.<br><br>2.2.1.2 기능 완전성의 평가 내용<br>기능별 요구사항 명세서는 다음과 같다.<br><img width="705" alt="스크린샷 2024-12-12 오후 8 02 28" src="https://github.com/user-attachments/assets/0bf9f328-e95a-41d9-a12a-ab37f360d7cf" /><br><br>2.2.1.3 기능 완전성의 평가 결과<br>명시된 요구사항 모두 구현되어 기능 완전성이 높은 수준으로 나타나고 있음을 확인할 수 있다.<br><br>2.2.2 기능 적절성<br>기능 적절성이란 제공되는 기능이 사용자의 요구에 부합하고 사용 목적에 맞는지를 의미한다.<br><br>2.2.2.1 기능 적절성의 평가 기준과 방식<br>무작위로 추출한 2030 세대 중 23인을 대상으로 베타 테스트를 진행하고 설문 조사를 하였다. 사용자 대상 설문 평가를 통해 ‘선물 추천 기능’이 사용자 요구를 얼마나 충족했는지 정량적으로 측정하였다.<br><br>2.2.2.2 기능 적절성의 평가 내용<br>설문에 포함된 질문은 다음과 같다. ‘추천 받은 선물이 마음에 드시나요? (예/아니오)’, ‘추천 받았던 선물들(3개) 중 마음에 드는 것은 몇 개인가요? (0개 ~ 3개)’라는 질문을 가지고 설문 조사를 진행한 결과는 다음과 같다.<br>* 평가 내용: 2가지 항목에 대해 다음과 같이 수치화할 수 있다.<br><img width="662" alt="image" src="https://github.com/user-attachments/assets/00c34bd3-077b-466b-87e1-fbef0b7eb08c" /><br>(1) 추천받은 선물이 마음에 드시나요?<br>* 예: 87% (20명)<br>* 아니오: 13% (3명)<br><img width="662" alt="image (1)" src="https://github.com/user-attachments/assets/78360259-f310-4ac7-8830-3968bcde50ac" /><br>(2) 추천받은 선물 3개 중 마음에 드는 것은 몇 개인가요?<br>* 3개: 34.8% (8명)<br>* 2개: 47.8% (11명)<br>* 1개: 13% (3명)<br>* 0개: 4.4% (1명)<br><br>2.2.2.3 기능 적절성의 평가 결과<br>설문 결과, 87%가 추천받은 선물이 마음에 든다고 응답하여서비스의 선물 추천 기능이 사용자 목적을 충분히 달성하고 있음을 볼 수 있다. 또한 추천받은 3개의 선물 중 2개 이상이 만족스럽다고 응답한 비율이 82.6%로, 추천된 선물의 대부분이 사용자의 취향에 부합하는 결과를 제공한 것으로 판단된다. 따라서 소프트웨어가 사용자의 목적 달성에 도움을 주는 정도를 나타내는 기능 적절성은, 본 서비스에서 높은 수준으로 나타나고 있다고 평가할 수 있다. <br><br>2.2.3 기능 정확성<br>기능 정확성이란 서비스의 기능이 오류 없이 정상적으로 동작하며 정확하게 결과를 제공하는 지를 의미한다.<br><br>2.2.3.1 기능 정확성 평가 기준과 방식<br>추천된 선물이 사용자의 입력 조건(예: MBTI, 관심사, 가격대)과 일치하며, 신뢰성 있는 결과를 제공하는지가 기준이 된다. 테스트 케이스를 설계하고, 추천 결과를 수동으로 검토하여 기대한 결과가 일치하는지 확인한다. 또한, MBTI별 카테고리 선호도 정보를 학습 데이터로 반영하고, 외부에서 수집한 MBTI 기본 데이터의 일관된 패턴을 분석하여 추천의 정확성을 향상시키는 과정을 포함하도록 한다.<br><br>2.2.3.2 기능 정확성 평가 내용<br>(1) MBTI와 관련된 기본 데이터를 외부 자료에서 수집하고, 이를 정리하였다.<br><img width="689" alt="image (2)" src="https://github.com/user-attachments/assets/4ba57962-7265-4e90-bcc3-233e1d529c85" /><br>ISTP는 실용적인 아이템을 선호하고, ENFP는 감성적이고 의미 있는 경험이나, 창의성을 자극하는 선물을 선호한다는 패턴을 발견하여 이를 추천 알고리즘에 반영하도록 하였다.<br><br>(2) 다음과 같이 다양한 테스트케이스를 설정하고, 이를 만족하는지에 대해 실험하였다. 먼저 선물 추천에 대한 여러 테스트케이스에 대한 검토 결과다.<br><img width="944" alt="스크린샷 2024-12-12 오후 8 12 50" src="https://github.com/user-attachments/assets/0b54bf54-4345-4d3e-a13a-0f7b3ff9ebda" /><br><img width="283" alt="image (2)" src="https://github.com/user-attachments/assets/7f310b6d-3c3a-4c6c-92f9-09c47afbad4d" /><br><br>2.2.3.3 기능 정확성 평과 결과<br>각각 5번의 테스트를 진행하였고, 모든 테스트 케이스에서 조건과 일치하는 결과가 일관되게 제공되었음을 확인하였다. 이는 추천 시스템이 입력된 조건을 정확히 반영하고 있음을 나타낸다. 테스트 케이스를 반복 수행했음에도 결과가 변하지 않고 일관성을 유지한 점은 추천 시스템의 신뢰성과 기능 정확성을 입증하는 지표라고 이해할 수 있다. 따라서 기능 정확도 또한 높은 수준으로 보이고 있다고 평가하였다.<br><br>3. 성능 효율성: 정량적 평가항목<br>3.1 성능 효율성<br>성능 효율성이란 소프트웨어 품질 특성(ISO/IEC 25023 국제 표준 기준) 중 하나로, 소프트웨어가 주어진 리소스로 요구되는 성능 수준을 얼마나 효과적으로 달성하는지를 평가하는 항목이다. 서비스의 품질을 수치적으로 평가하는 것은 객관적이고 신뢰할 수 있는 결과를 제공하는 데 중요한 역할을 한다. 특히, 서비스의 반응 시간과 자원의 사용량은 사용자 경험에 직접적으로 영향을 미치는 요소이므로 이를 기준으로 평가하는 것이 필수적이다.<br><br>3.2 성능 효율성의 평가 기준<br>성능 효율성은 시간 반응성과 자원 효율성이라는 두 가지 기준으로 세분화하여 평가한 결과, 모든 평가 기준을 충족하였다.<br><br>3.2.1 시간반응성<br>시간 기능 반응성이란 기능의 수행시간이 요구사항을 충족하는 정도를 나타낸다.<br><br>3.2.1.1 시간 반응성의 평가 기준과 방식<br>본 프로젝트에서는 “모든 GPT API 요청 및 응답 처리 시간이 1초를 초과하지 않아야 한다”는 요구사항을 설정하고, 수행 기능 목록별로 해당 기준을 만족하는지 평가했다.  각 기능별 GPT API 호출 시간이 요구사항을 충족하는지 확인하기 위해 배포 환경에서 Inspector 도구를 사용하여 API 요청 및 응답까지 걸리는 속도를 3번 시도하여 평균 처리 속도를 측정하였다.<br><br>3.2.1.2 평가 내용<br>다음 표에서 확인할 수 있듯이, 배포 환경에서 GPT API의 요청(request)과 응답(response)은 1초 미만의 시간 반응성을 갖는다. 각 기능의 평균 응답 속도는 아래와 같다:<br><img width="801" alt="스크린샷 2024-12-12 오후 8 17 23" src="https://github.com/user-attachments/assets/886cb861-6745-4750-b15d-cc2288d17482" /><br><br>3.2.1.3 평가 결과<br>배포 환경에서 측정한 평균 응답 속도 결과, 해당 요구사항을 충족하였으며, 이를 통해 시간 반응성 평가 항목을 만족하였음을 확인할 수 있다. 추가로, 시연 영상(https://www.youtube.com/watch?v=8urzfBDQB7I )에서 해당 기능의 실제 동작 확인이 가능하다.<br><img width="848" alt="image (3)" src="https://github.com/user-attachments/assets/e5995d03-65f5-4d44-a330-b20fd300fbcb" /><br>MBTI 자동 생성 GPT api 호출 응답 시간 예시<br><img width="847" alt="image (6)" src="https://github.com/user-attachments/assets/9474ebd2-b74b-4c09-84ed-aa21b07130c8" /><img width="843" alt="image (9)" src="https://github.com/user-attachments/assets/69e020ca-a0bf-4b33-a816-834c2defc814" /><br>MBTI 관심 카테고리 자동 생성 GPT api 응답 시간 예시<br><img width="848" alt="image (8)" src="https://github.com/user-attachments/assets/7f871bbc-e9b4-432f-ba81-68f627b1c8ff" /><img width="846" alt="image (7)" src="https://github.com/user-attachments/assets/9b0deace-37bb-4a13-8afd-69796ce2a214" /><br>선물 추천 GPT api 응답 시간 예시<br><img width="847" alt="image (4)" src="https://github.com/user-attachments/assets/874927c8-7f36-488e-bbd9-12b085dc38d1" /><img width="848" alt="image (5)" src="https://github.com/user-attachments/assets/cb9c17f9-4ad1-4de6-97e0-1bd05fc07370" /><br>문구 생성 GPT api 응답 시간 예시<br><br>3.2.2. 자원 효율성<br>자원 효율성이란 기능 수행 시 사용되는 자원이 요구사항을 충족하는 정도를 의미한다.<br><br>3.2.2.1 자원 효율성의 평가 기준과 방식<br>본 프로젝트에서는 "서비스는 사용자당 월 평균 100회 사용을 기준으로, 사용료가 100원을 초과하지 않도록 자원을 효율적으로 활용해야 한다"라는 요구사항을 설정했다. 모든 호출의 단위 비용과 사용량을 분석하여, 설정된 목표를 만족했는지 평가하고자 했다. OpenAI GPT-4o-mini 모델의 API 사용 데이터를 기반으로, 총 호출 횟수, 총 비용(달러, 원), 1회 호출당 평균 비용, 그리고 사용자당 월 예상 비용(100회 사용 기준) 등을 계산하였다. 요구사항에 따라, 사용자당 월 100회 사용 기준으로 예상 비용이 100원을 초과하지 않는지 확인했다.<br><br>3.2.2.2 자원 효율성의 평가 내용<br>OpenAI GPT-4o-mini 모델을 2024년 9월 12일부터 12월 4일까지 사용한 결과, API 총 호출 횟수는 1,733회였으며, 총 비용은 약 0.2033달러(2024년 12월 10일 환율 기준 한화 약 290원)였다. 이는 호출 1회당 약 0.17원의 비용이 발생했다.<br><img width="797" alt="스크린샷 2024-12-12 오후 8 27 31" src="https://github.com/user-attachments/assets/588f2711-72d3-4d28-bcdb-b1c14c041df4" /><br><br>3.2.2.3 자원 효율성의 평가 결과<br>위의 표를 이를 기준으로 사용자당 월 100회 사용 시 예상 비용은 17원으로, 목표치인 100원보다 83% 초과 달성하였다. 또, 1회 호출당 비용은 약 0.17원으로 매우 낮아 효율성을 입증했다. 그러므로 서비스는 자원을 매우 효율적으로 활용하며, 비용 절감 목표를 충분히 충족했다고 평가하였다. 상세 내용은 아래 링크에서 확인할 수 있다.<br>https://drive.google.com/drive/u/1/folders/1JLfRfiROsDwa2Goxivt724GPjEpmfIAy|

<br>

# Conclusion
| 항목 | 내용 |
|:---  |---  |
| (1) 결론(Conclusion) | |



